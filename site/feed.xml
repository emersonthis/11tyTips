<?xml version="1.0" encoding="utf-8"?> <feed xmlns="http://www.w3.org/2005/Atom"><title>11tyTips</title><subtitle>A blog devoted to Eleventy static site generator users</subtitle><link href="https://11tytips.netlify.com/feed.xml" rel="self"/><link href="https://11tytips.netlify.com/"/><updated>2019-12-12T01:00:00+01:00</updated><id>https://11tytips.netlify.com/</id><author><name>octoxalis</name><email>octoxalis@gmail.com</email></author><entry><title>Site structure</title><link href="https://11tytips.netlify.com/tips/site_structure.html"/><updated>2019-12-12T01:00:00+01:00</updated><id>https://11tytips.netlify.com/tips/site_structure.html</id><content type="html"><h1>The JAMstack architecture</h1><p data--="page_intro">The principles of JAMstack static site.</p><h2 id="what_is_jamstack?">What is JAMstack?</h2><p>Eleventy, as most static sites, relies on an architectural paradigm called <a href="https://jamstack.org/" target="_blank" rel="noreferrer noopener">JAMstack</a>, an acronym meaning: <q>a modern web development architecture based on client-side JavaScript, reusable APIs, and prebuilt Markup.</q> (see Mathias Biilmann &amp; Phil Hawksworth book: <a href="https://www.netlify.com/pdf/oreilly-modern-web-development-on-the-jamstack.pdf" target="_blank" rel="noreferrer noopener">Modern Web development on the JAMstack</a>. ).</p><p>In the JAMstack architecture, <em>JavaScript</em> is used not only in the browser for interactivity and presentation but also to build all the files of the site (this is the case of Eleventy. Other generators use different languages: Go, Python, etc. ); the <em>APIs</em> are the programming interfaces to Node packages (Eleventy itself is a Node package. )or other frameworks used as a back end; <em>Markdown</em> is used to set the content of each page of the site, with a settings part (front matter) using either JavaScript or a description language like YAML or TOML and a template part (there are many templating systems: Liquid, Nunjucks, Hanbdlebars, Pug, etc. ).</p><h2 id="11tytips_architecture">11tyTips architecture</h2><p>Trying to stay as simple as possible, 11tyTips is built using a minimal set of the JAMstack architecture: <strong>JavaScript</strong>, backed by the Node ecosystem, <strong>Nunjucks</strong>, as templating system, and <strong>Markdown</strong> as content markup language. It doesn’t follow the canonical dispatching of files promoted by Eleventy and most satic site generators (data, templates, contents), but follows a pattern examplifying the JAMstack paradigm.</p><p>The <code>source</code> directory design reflects the JAMstack categories:</p><ul data--="ulist"><li>make (contains JavaScript modules to be used during the build process and is split in two directories: Eleventy modules (<code>11ty</code>) and 11tyTips modules (<code>lib</code>). <em>This is also where the initial JavaScript file firing the building process is located</em>. Instead of <code>.eleventy.js</code> this file is named <code>make.js</code> (without the starting dot because it is not hidden). )</li><li>matrix (gathers, in <code>./</code> and <code>parts</code> directories, all the templates producing the site HTML files; plus the Javascript and CSS files concatenated and minified (<code>assets</code>). )</li><li>matter (contains the Markdown files of all site posts (<code>pages</code> subdirectory), plus some files they include (<code>parts</code>). )</li></ul><p>I sometimes like to call it the <em>3M</em> directory (all of its subdirectory having names begining with an <em>m</em> letter, enumerating these directory names sounds like a slogan: <q>make matrix matter(s)!</q> ). All subdirectories of the three first level directories follow a consistent naming scheme:</p><ul data--="ulist"><li>assets (for directories containing both script files, style files and files not to be processed and just to be passthru copied to output site; )</li><li>scripts (for JavaScript files and, eventually, other scripting language files )</li><li>styles (for Cascading stylesheet files and, eventually, other styling language files (SCCS, etc.) )</li><li>parts (for partial files to be included by other files. )</li></ul><p>This structure departs deliberately from what is generaly adopted by static sites built with Eleventy (see, for instance, <a href="https://github.com/11ty/eleventy-base-blog" target="_blank" rel="noreferrer noopener">Eleventy base blog</a> structure ), examplifying the versatility of the tool (Eleventy configuration object has two properties allowing this precious flexibility: <code>dir.data</code> and <code>dir.includes</code>. ): <strong>Eleventy doesn’t lock you into a predefined scheme</strong> and let you express your specific needs with ease.</p><p>11tyTips has been designed to offer the maximum of flexibility and consistency in the development phase, keeping a strong separation of concerns as to ease any needed refactoring and modification of the code. The site <a href="https://11tytips.netlify.com/tips/source_tree.html">source tree</a> gives an overview of the source directory hierarchy.</p><p>Following these configuration options leads to a command line <em>requiring</em> the <code>--config</code> argument:</p><p data--="example"><code>npx eleventy --config=make/11ty/make.js</code></p></content></entry><entry><title>Cloning 11tyTips site</title><link href="https://11tytips.netlify.com/tips/site_cloning.html"/><updated>2019-12-12T01:00:00+01:00</updated><id>https://11tytips.netlify.com/tips/site_cloning.html</id><content type="html"><h1>Cloning of 11tyTips site</h1><p data--="page_intro">Why not use 11tyTips as a boilerplate for your own new site?</p><h2 id="install_a_clone_of_11tytips_site">Install a clone of 11tyTips site</h2><p>11tyTips site has been designed to help those wanting to start with a static site generator such as Eleventy, without spending a lot of time to find the best architecture meeting their needs. All tips explained in its pages are exemplified by its source code: the dogfooding principle!</p><p>If you want to use it as a frame for your new site, visit the <a href="https://11tyframe.netlify.com/" target="_blank" rel="noreferrer noopener">11ty Frame</a> site.</p></content></entry><entry><title>Source tree</title><link href="https://11tytips.netlify.com/tips/source_tree.html"/><updated>2019-12-12T01:00:00+01:00</updated><id>https://11tytips.netlify.com/tips/source_tree.html</id><content type="html"><h1>11tyTips site tree</h1><p data--="page_intro">A bird’s eye view of 11tyTips site.</p><hgroup data--="code_ref"><h5>11tyTips source tree</h5><h6><a href="https://prismjs.com" target="_blank" rel="noreferrer noopener" title="Highlighting provided by Prism.js">Prism</a></h6></hgroup><pre><code class="language-txt">
.
├── make
│   ├── 11ty
│   │   ├── collections.js
│   │   ├── filters.js
│   │   ├── libraries.js
│   │   ├── make.js
│   │   ├── plugins.js
│   │   └── shortcodes.js
│   └── lib
│       ├── block_replace.js
│       ├── block_split.js
│       ├── data.js
│       ├── dateToISO.js
│       ├── feed_content.js
│       ├── string.js
│       └── template_process.js
|
|
├── matrix
│   ├── assets
│   │   ├── icons
│   │   │   └── pencil.svg
│   │   ├── scripts
│   │   │   └── js
│   │   │       ├── parts
│   │   │       │   ├── _comments_.js
│   │   │       │   ├── _dom_.js
│   │   │       │   ├── _events_.js
│   │   │       │   ├── _link_page_.js
│   │   │       │   ├── _menu_.js
│   │   │       │   ├── _notes_.js
│   │   │       │   ├── _service_.js
│   │   │       │   └── _service_worker_.js
│   │   │       ├── lib.njk
│   │   │       └── service.njk
│   │   ├── static
│   │   │   ├── fonts
│   │   │   │   ├── athiti-v3-latin-regular.woff2
│   │   │   │   ├── FiraCode-Regular.woff2
│   │   │   │   └── harmattan-v5-latin-regular.woff2
│   │   │   ├── media
│   │   │   │   ├── android-chrome-192x192.png
│   │   │   │   ├── android-chrome-512x512.png
│   │   │   │   ├── apple-touch-icon.png
│   │   │   │   ├── favicon-16x16.png
│   │   │   │   └── favicon-32x32.png
│   │   │   ├── scripts
│   │   │   │   └── js
│   │   │   │       └── prism.min.js
│   │   │   └── styles
│   │   │       └── css
│   │   │           └── prism.min.css
│   │   └── styles
│   │       └── css
│   │           ├── parts
│   │           │   ├── _aspect_ratio_.css
│   │           │   ├── _color_.css
│   │           │   ├── _comment_.css
│   │           │   ├── _dark_mode_.css
│   │           │   ├── _destyle_.css
│   │           │   ├── _font_.css
│   │           │   ├── _font_face_.css
│   │           │   ├── _full_width_.css
│   │           │   ├── _html_.css
│   │           │   ├── _menu_.css
│   │           │   ├── _note_.css
│   │           │   ├── _prism_theme_.css
│   │           │   ├── _properties_.css
│   │           │   ├── _rootvar_.css
│   │           │   ├── _source_tree_.css
│   │           │   └── _ui_.css
│   │           └── lib.njk
│   ├── parts
│   │   ├── blocks
│   │   │   ├── _body_.njk
│   │   │   ├── _body_offline_.njk
│   │   │   ├── _feed_.njk
│   │   │   ├── _head_.njk
│   │   │   ├── _menu_.njk
│   │   │   └── _sitemap_.njk
│   │   ├── _article_.njk
│   │   ├── _banner_.njk
│   │   ├── _comment_.njk
│   │   ├── _description_.njk
│   │   ├── _favicon_.njk
│   │   ├── _feed_.njk
│   │   ├── _font_inline_.njk
│   │   ├── _head_.njk
│   │   ├── _instant_page_.njk
│   │   ├── _link_page_.njk
│   │   ├── _menu_iframe_.njk
│   │   ├── _netlify_badge_.njk
│   │   ├── _script_.njk
│   │   ├── _seo_.njk
│   │   ├── _site_url_.njk
│   │   ├── _style_.njk
│   │   ├── _style_inline_.njk
│   │   └── _webmanifest_.njk
│   ├── feed.njk
│   ├── frame.njk
│   ├── menu.njk
│   ├── offline.njk
│   └── sitemap.njk
|
|
└── matter
    ├── assets
    │   ├── scripts
    │   │   └── js
    │   │       ├── lib
    │   │       │   ├── A_o.js
    │   │       │   ├── C_o.js
    │   │       │   ├── D_o.js
    │   │       │   ├── F_o.js
    │   │       │   └── U_o.js
    │   │       ├── lib.md
    │   │       ├── service.md
    │   │       └── webmanifest.md
    │   └── styles
    │       └── css
    │           └── lib.md
    └── pages
        ├── parts
        │   └── _source_tree_.txt
        ├── 404.md
        ├── creating_menu.md
        ├── eleventy_configure.md
        ├── feed.md
        ├── frontmatter_data.md
        ├── frontmatter_function.md
        ├── index.md
        ├── menu.md
        ├── minifying.md
        ├── names_guide.md
        ├── offline.md
        ├── pre_post_processing.md
        ├── shortcodes.md
        ├── shorthands.md
        ├── site_cloning.md
        ├── site_configure.md
        ├── site_structure.md
        ├── sitemap.md
        ├── source_tree.md
        ├── styles_guide.md
        └── variables_inheritance.md
</code></pre></content></entry><entry><title>Eleventy settings</title><link href="https://11tytips.netlify.com/tips/eleventy_configure.html"/><updated>2019-12-12T01:00:00+01:00</updated><id>https://11tytips.netlify.com/tips/eleventy_configure.html</id><content type="html"><h1>Eleventy configuration</h1><p data--="page_intro">You can customize Eleventy starting file as you see fit.</p><h2 id="the_eleventy_javascript_file">The Eleventy JavaScript file</h2><p>Eleventy uses a simple file, named by default <code>.eleventy.js</code> (because of the leading dot it’s an hidden file ), to define the settings of the building environment. This file is, by default, located at the root of the source folder but it can be put anywhere. The name itself can also be changed, if you see fit. (11tyTips modifies both the name, calling it <code>make.js</code>, and the location, putting it in the <code>source/make/11ty</code> directory. ) This file defines the settings of the main resources used in the building process: <em>libraries</em>, <em>shortcodes</em>, <em>filters</em>, <em>plugins</em>, etc. 11tyTips fragments this monolithic file in specific modules, each devoted to a part of the configuration, all located in the <code>source/make/11ty/</code> directory. The configuration object returned by the configuration/make file is important because it defines the location of the main components of the building process: the <code>input</code> and <code>output</code> directories, the templates processors, etc.</p><p>11tyTips declares its own set of directories, modifying some of the default names and locations (for instance, the leading underscore character is suppressed for <code>output</code>, <code>lib</code> and <code>matrix</code> directories, in lieu of <code>_output</code>, <code>_data</code> and <code>_includes</code>; <code>static</code> directory is named <code>assets</code>, etc. )</p><hgroup data--="code_ref"><h5>source/make/11ty/make.js</h5><h6><a href="https://prismjs.com" target="_blank" rel="noreferrer noopener" title="Highlighting provided by Prism.js">Prism</a></h6></hgroup><pre><code class="language-javascript">
const MAKE_o =
{
  markdownTemplateEngine: 'njk',
  htmlTemplateEngine:     'njk',
  dataTemplateEngine:     'njk',
  templateFormats:        [ 'njk', 'md' ],
  passthroughFileCopy:    true,
  pathPrefix:             '/',
  dir:
  {
    input:    '.',
    output:   '../site',
    data:     'matter/assets/scripts/js/lib',
    includes: 'matrix',
  },
<br/>
  tag_a:    [ 'tip' ],    //: to create collections
  static_o: { "matrix/assets/static": "assets" },    //: static files
  dirs_o:
  {
    makeDir_s:  './',
    pagesPartsDir_s: './matter/pages/parts',
  }
}
<br/>
module.exports = make_o =>
{
  make_o.tag_a = MAKE_o.tag_a
  make_o.matrixDir_s = MAKE_o.dir.includes
  make_o.pagesPartsDir_s = MAKE_o.dirs_o.pagesPartsDir_s
  make_o.addPassthroughCopy( MAKE_o.static_o )
; [ 'libraries',
    'shortcodes',
    'filters',
    'plugins',
    'collections'
  ].forEach( make_s => require( `${MAKE_o.dirs_o.makeDir_s}${make_s}.js` )( make_o ) )
  return MAKE_o    // : return the configuration object for further customization
}
<br/>
</code></pre></content></entry><entry><title>Global settings</title><link href="https://11tytips.netlify.com/tips/site_configure.html"/><updated>2019-12-12T01:00:00+01:00</updated><id>https://11tytips.netlify.com/tips/site_configure.html</id><content type="html"><h1>Configuring your new Eleventy site</h1><p data--="page_intro">Eleventy provides you with simple but efficient configuration options.</p><h2 id="data_everywhere">Data everywhere</h2><p>Eleventy provides a wide range of settings for <a href="https://www.11ty.io/docs/data/">data</a> used in building stage or inside content: <a href="https://www.11ty.io/docs/data-global/">global</a> data as well as <a href="https://www.11ty.io/docs/data-template-dir/">template and directory</a> data.</p><p>11tyTips uses only global data contained in JavaScript files located inside the data directory.</p><hgroup data--="code_ref"><h5>source/matter/assets/scripts/js/lib/U_o.js</h5><h6><a href="https://prismjs.com" target="_blank" rel="noreferrer noopener" title="Highlighting provided by Prism.js">Prism</a></h6></hgroup><pre><code class="language-javascript">
const A_o = require( './A_o.js' )
<br/>
const U_o =
{
  dev_b: true,     //: development/production switch
  //dev_b: false,
  url_s: null,
<br/>
  DEV_s: A_o.LOCAL_s,
  PRO_s: A_o.URL_s,
<br/>
  GIT_s: `https://github.com/${A_o.AUTHOR_s}/${A_o.ID_s}/`,
  TWI_s: `https://twitter.com/${A_o.ID_s}/`,
  RSS_s: `${A_o.URL_s}feed.xml`,
  SERVICE_PATH_s: 'assets/scripts/js/service_worker.min.js',
<br/>
  HOME_s:    `[Home page]: ${A_o.URL_s}`,
  NODE_s :   `[Node.js]: https://nodejs.org`,
  COMMENT_s: `[utteranc.es]: https://github.com/utterance/utterances`,
<br/>
  FRAME_s:     '11ty Frame',
  FRAME_URL_s: `https://11tyframe.netlify.com/`,
<br/>
  ELEVENTY_s:     `[Eleventy]: https://11ty.io`,
  ELEVENTY_JFM_s: `/docs/data-frontmatter/#javascript-front-matter`,
  ELEVENTY_UDF_s: `/docs/data-frontmatter/#user-defined-front-matter-customizations`,
<br/>
  OUTLINK_s: '{target="_blank" rel="noreferrer noopener"}',
<br/>
}
void function () { U_o.url_s = U_o[U_o.dev_b === true ? 'DEV_s' : 'PRO_s'] } ()
console.log( `Site URL: ${U_o.url_s}` )
<br/>
module.exports = U_o
<br/>
</code></pre><p>The gobal data files can contain not only constants (as in the preceding listing of the <code>U_o.js</code> file )but also functions (as in the following <code>D_o.js</code> file )which means that all the power of Node.js is at hand.</p><hgroup data--="code_ref"><h5>source/make/lib/data.js</h5><h6><a href="https://prismjs.com" target="_blank" rel="noreferrer noopener" title="Highlighting provided by Prism.js">Prism</a></h6></hgroup><pre><code class="language-javascript">
const EXPORT_a =    // default exported data
[
  'date',
  'layout',
  'permalink',
  'tags',
  'rank_n',
  'title_s',
  'subtitle_s',
  'abstract_s',
  'author_s',
  'A_o',
]
<br/>
module.exports =
{
  data__o: ( permalink_s, collection_a ) =>
  {
    //> console.log( permalink_s )
    let export_o = {}
    collection_a.forEach( collection_o =>
      {
        const data_o = collection_o.data
        if ( data_o.permalink === permalink_s )
        {
          if ( data_o.export_a === null ) export_o = data_o    //: get all data!
          else
          {
            const export_a = data_o.export_a || EXPORT_a    //: get declared or default data only
            export_a.forEach( prop_s => export_o[prop_s] = data_o[prop_s] )
          }
        }
      } )    
    return export_o
  },
}
<br/>
</code></pre></content></entry><entry><title>Styles guide</title><link href="https://11tytips.netlify.com/tips/styles_guide.html"/><updated>2019-12-12T01:00:00+01:00</updated><id>https://11tytips.netlify.com/tips/styles_guide.html</id><content type="html"><h1>Styles guide</h1><p>(h1 element)</p><p data--="page_intro">This is an introduction paragraph which should be limited in length.</p><p>(p element, styled with attribute “page_intro”)</p><h2 id="title">Title</h2>(h2 element)<h3 id="subtitle">Subtitle</h3>(h3 element<br/><b>Titles have a</b> <code>font-style: italic</code> )<p><strong>Paragraph</strong> content have a maximum line length fixed to 60ch, yielding to a number of of about 70 characters per line: this is considered the best line length for readibility. (p element)</p><p><code>for ( let at = 0; at &lt; keys_a.length; ++at )</code> (inline code)</p><p data--="example"><code>for ( let at = 0; at &lt; keys_a.length; ++at )</code> (example)</p><hgroup data--="code_ref"><h5>source/make/11ty/libtaries.js</h5><h6><a href="https://prismjs.com" target="_blank" rel="noreferrer noopener" title="Highlighting provided by Prism.js">Prism</a></h6></hgroup><pre><code class="language-javascript">
module.exports = make_o =>
{
  let markdown_o =
  {
    html:        true,
    linkify:     true,
    typographer: true
  }
  make_o.setLibrary('md',
    require( 'markdown-it' )( markdown_o )
      .use( require( 'markdown-it-attrs' ) )
      .use( require( 'markdown-it-deflist' ) )
      .use( require( 'markdown-it-include' ), make_o.pagesPartsDir_s )
  )
  make_o.setLibrary('njk',
    require('nunjucks')
      .configure( make_o.matrixDir_s, { autoescape: false } ) )  //: autoescape for CSS rules
}
<br/>
</code></pre>(code block)<h3>Lists</h3><p>(Unordered list)</p><ul data--="ulist"><li>Primo</li><li>Secondo</li><li>Tertio</li></ul><p>(Nested unordered lists)</p><ul data--="ulist"><li>Primo<ul data--="ulist"><li>One</li><li>Two</li><li>Three</li></ul></li><li>Secondo<ul data--="ulist"><li>Un</li><li>Deux</li></ul></li><li>Tertio</li></ul><ul><li>Inside a short note, it works only preceded by a list item (<ul data--="ulist"><li>One</li><li>Two</li><li>Three )</li></ul></li></ul></content></entry><entry><title>Names guide</title><link href="https://11tytips.netlify.com/tips/names_guide.html"/><updated>2019-12-12T01:00:00+01:00</updated><id>https://11tytips.netlify.com/tips/names_guide.html</id><content type="html"><h1>Pseudo-typed JavaScript</h1><p data--="page_intro">How to identify variable types using a consistent naming scheme.</p><h2 id="no_static_typing?">No static typing?</h2><p>Every developer knows that JavaScript is not a static typed language, a useful feature eliminating lots of bugs. A language like Typescript has been created as a remedy to that important lack of safety. Even for code modules counting less than a few tens of lines, it’s easy to forget what kind of type is exactly a variable or constant declared at the begining of the file and then make a mistake when assining a wrong type to a variable.</p><p>11tyTips follows the <a href="https://typexjs.netlify.com" target="_blank" rel="noreferrer noopener">TypesJS</a> naming scheme for a cleaner and more meaningful code. Here is how it looks in action (the following listing is the service worker file integrated in 11tyTips which relies heavily on the excellent article by Thomas Hunter II: <a href="https://thomashunter.name/posts/2019-04-30-service-workers" target="_blank" rel="noreferrer noopener"><em>On using Service Workers with Static Content</em></a> ):</p><hgroup data--="code_ref"><h5>source/matrix/assets/scripts/js/parts/_service_worker_.js</h5><h6><a href="https://prismjs.com" target="_blank" rel="noreferrer noopener" title="Highlighting provided by Prism.js">Prism</a></h6></hgroup><pre><code class="language-javascript">
/**
 * Unlike most Service Workers, this one always attempts to download assets from the network.
 * Only when network access fails do we fallback to using the cache. 
 * When a request succeeds we always update the cache with the new version.
 * If a request fails and the result isn't in the cache then we display an offline page.
 */
const ID_s      = '{{A_o.ID_s}}'
const KEY_n     = 1                             //: initial cache version
const CACHE_s   = `${ID_s}_${KEY_n}`            //: name of the current cache
<br/>
const URL_a = //: URLs of assets to immediately cache
[
  '{{U_o.url_s}}',
  '{{U_o.url_s}}index.html',
  '{{U_o.url_s}}menu.html',
  '{{U_o.url_s}}offline.html',
  '{{U_o.url_s}}assets/scripts/js/service_worker.min.js',
  '{{U_o.url_s}}assets/scripts/js/lib.min.js',
  '{{U_o.url_s}}assets/styles/css/lib.min.css',
  '{{U_o.url_s}}favicon.ico',
]
<br/>
/**
 * Iterate thru URL_a and add cache each entry
 */
const install__v = install_o =>
{
  install_o.waitUntil( caches.open( CACHE_s )
    .then( cache_o => cache_o.addAll( URL_a  ) )
    .then( self.skipWaiting() ) )
}
<br/>
/**
 * Remove inapplicable caches entries
 */
const activate__v = activate_o =>
{
  activate_o.waitUntil( caches.keys()
    .then( entry_a => entry_a.filter( entry_s => entry_s !== CACHE_s ) )
    .then( remove_a => Promise.all( remove_a.map( remove_s => caches.delete( remove_s ) ) ) )
    .then( () => self.clients.claim() ) )
}
<br/>
/**
 * Always try to download from server first
 */
const fetch__v = fetch_o =>
{
  fetch_o.respondWith( fetch( fetch_o.request )
      .then( response_o =>
      {
        cache__v( fetch_o.request, response_o )   //: download is successful: cache the result...
        return response_o.clone()                 //... and display it
      } )
      .catch( error_o => cache__o( error_o ) )    //: error_o means network fail (offline...)
  )
}
<br/>
/**
 * Try to fetch a cache version if network access issues
 */
const cache__o = fetch_o =>
{
  return caches.match( fetch_o.request )
    .then( response_o =>
    {
      return response_o ||        //: We have a cached version, display it
        caches.open( CACHE_s )    //: We don't have a cached version, display offline page
          .then( cache_o => cache_o.match( new Request( `{{U_o.url_s}}offline.html` ) ) )
    } )
}
<br/>
/**
 * Put successful fetch in cache
 */
const cache__v = ( request_o, response_o ) =>
{
  caches.open( CACHE_s )
    .then( cache_o => cache_o.put( request_o, response_o ) )
}
<br/>
self.addEventListener('install', install_o => install__v( install_o ) )
self.addEventListener('activate', activate_o => activate__v( activate_o ) )
self.addEventListener('fetch', fetch_o => fetch__v( fetch_o ) )
<br/>
</code></pre><p>As a side note, it’s worth noting that a declaration like</p><p data--="example">const ID_s = ‘{{A_o.ID_s}}’</p><p>is only made possible by the use of a minification filter during which Nunjucks variables are expanded before writing the JavaScript file! But it’s another story: <a href="https://11tytips.netlify.com/tips/minifying.html">minifying</a>…</p></content></entry><entry><title>Front matter</title><link href="https://11tytips.netlify.com/tips/frontmatter_data.html"/><updated>2019-12-12T01:00:00+01:00</updated><id>https://11tytips.netlify.com/tips/frontmatter_data.html</id><content type="html"><h1>Front matter data</h1><p data--="page_intro">Front matter, the initial section of each Markdown file, offers much more than you think.</p><h2 id="front_matter_is_all_you_need">Front matter is all you need</h2><p>Each Markdown file has its own data, declared at the begining of the file in the front matter part (11tyTips uses a JavaScript <code>Object</code> for the front matter. ), a few ones being mandatory (no so strickly speaking! For instance, you’re not requested to use a Date, but it’s more than useful if you want to sort your posts by date. ), others being used to supply some page specific content or variables (have a look at <a href="https://11ty.io/docs/data-frontmatter/#user-defined-front-matter-customizations" target="_blank" rel="noreferrer noopener">Eleventy#user-defined-front-matter-customizations</a> for a list of Eleventy properties usable in front matter. ).</p><p><strong>Mandatory data</strong></p><ul data--="ulist"><li>Date (the Date property is mainly used to sort the posts but also to be shown it on the page. )</li><li>Layout (this is the template used to render the page. )</li><li>Permalink (this is the name of the output file: HTML, or any other format (e.g. minified JavaScript). )</li><li>Tags (the collection(s) including the output file. )</li></ul><p><strong>Specific data</strong></p><ul data--="ulist"><li>Menu index (Tip pages are sorted using this index, instead of the creation date. )</li><li>Title (used by 11tyTips to identify the page in the browser tab. )</li><li>Subtitle (Used by 11tyTips to describe the page content in the Tips list menu. )</li><li>Abstract (actually not used by 11tyTips, but could be… )</li><li>Author (useful if there are multiple authors for the posts of the site. )</li></ul><hgroup data--="code_ref"><h5>source/matter/pages/frontmatter_data.md</h5><h6><a href="https://prismjs.com" target="_blank" rel="noreferrer noopener" title="Highlighting provided by Prism.js">Prism</a></h6></hgroup><pre><code class="language-javascript">
---js
{
  date:      `2019-12-12`,
  layout:    `frame.njk`,
  permalink: `tips/frontmatter_data.html`,
  tags:      [ `tip` ],
  eleventyExcludeFromCollections: false,
<br/>
  rank_n:     8,
  title_s:    `Front matter`,
  subtitle_s: `Front matter data howto`,
  abstract_s: `Accessing front matter data in Markdown and templates`,
  author_s:   `Octoxalis`,
<br/>
  output__s: output_s => output_s.replace( /\[% raw %\]/g, '' ).replace( /\[% endraw %\]/g, '' ),
}
---
</code></pre><p>To access any property declared in the front matter it has to be enclosed in double parenthesis <code>{{ ... }}</code> (11tyTips uses Nunjucks. Using other templating systems, this is a bit different. ). For instance, the <code>abstract_s</code> property in the front matter is injected in this page with the following code: <code>{{ abstract_s }}</code> and renders as:<br/><q>Accessing front matter data in Markdown and templates</q>.</p><h2 id="function_properties">Function properties</h2><p>If you use JavaScript for the front matter (a very good idea because it gives you the full power of the language to process your content. )and Nunjucks as templating system, you can declare functions as properties (see <a href="https://11ty.io/docs/data-frontmatter/#javascript-front-matter" target="_blank" rel="noreferrer noopener">Eleventy#javascript-front-matter</a> documentation page. ). Usually, apart very specific cases, it’s much more easy to declare content processing functions in a module located inside the data directory (because it will be accessible from any Markdown content or any template and with the possibility to require any Node package that could be useful. ).</p><p>However, this page front matter is such a case: the <code>output__s</code> front matter last property is a conventional way to execute a function after processing the entire page (see also <a href="https://11tytips.netlify.com/tips/frontmatter_function.html">frontmatter function</a> page. ).</p><h2 id="front_matter_properties_and_global_data_functions">Front matter properties and global data functions</h2><p>11tyTips is full of Eleventy documentation links: we need official references! Some of these references can appear in different pages and therefore they are potential global data. 11tyTips source has an <code>F_o.js</code> file inside its <code>matter/assets/scripts/js/lib</code> directory where a <code>eleventyUrl__s</code> function compute the link to any Eleventy docs page using an acronym of the page and anchor.</p><hgroup data--="code_ref"><h5>11tyTips/source/matter/assets/scripts/js/lib/F_o.js</h5><h6><a href="https://prismjs.com" target="_blank" rel="noreferrer noopener" title="Highlighting provided by Prism.js">Prism</a></h6></hgroup><pre><code class="language-javascript">
eleventyUrl__s: key_s =>
{
  const path_s = U_o[ `ELEVENTY_${key_s}` ]
  const anchor_n = path_s.indexOf( '#')
  if ( anchor_n === -1 )    //: return a link to 11ty.io
  {
    console.log( `ALERT! no anchor found in path: ${path_s}` )
    const ref_n = U_o.ELEVENTY_s.indexOf( ':' )
    return { ref: U_o.ELEVENTY_s.substring( 0, ref_n ), link: U_o.ELEVENTY_s }
  }
  const anchor_s = path_s.substring( anchor_n )
  const anchorLink_s = U_o.ELEVENTY_s.replace( ']', `${anchor_s}]`) + path_s
  return { ref: anchorLink_s.substring( 0, anchorLink_s.indexOf( ':') ), link: anchorLink_s }
}
</code></pre><p>The acronyms (usually three characters are enough to get a unique identifier:<br/><code>JFM_s</code> for <code>#javascript-front-matter</code>,<br/><code>UDF_s</code> for <code>#user-defined-front-matter-customizations</code>. ), used as keys, could be set inside each page front matter and used as a key by the function to expand the actual link reference.</p><p>Hence to get the <em>reference</em> and the <em>link</em> of a <em>reference-style link</em> is just as easy as:</p><p data--="example"><code>{{ F_o.eleventyUrl__s( 'JFM_s' ).ref }}</code><br/><code>{{ F_o.eleventyUrl__s( 'JFM_s' ).link }}</code></p><p>Actually, most of Eleventy link keys are gathered in the <code>U_o.js</code> global data file and not in the front matter!</p><h3 id="even_shorter">Even shorter</h3><p>But we can do more, using Nunjucks <code>{% set %}</code> tag in each Markdown file referencing an Eleventy documentation page, then call the link function as in the following examples:</p><p data--="example"><code>{{ _11ty__s( 'JFM_s' ).link }}</code> (Reference-style link located in Links section, after the Aliases section. )</p><p data--="example"><code>{{ _11ty__s( 'JFM_s' ).ref }}</code> (reference inside content. )</p><hgroup data--="code_ref"><h5>11tyTips/source/matter/items/frontmatter_data.md</h5><h6><a href="https://prismjs.com" target="_blank" rel="noreferrer noopener" title="Highlighting provided by Prism.js">Prism</a></h6></hgroup><pre><code class="language-javascript">
[comment]: # (======== Aliases ========)
{% set _11ty__s = F_o.eleventyUrl__s %}
<br/>
{{ _11ty__s( 'JFM_s' ).link }}
{{ _11ty__s( 'UDF_s' ).link }}
<br/>
[comment]: # (======== Post ========)
<br/>
</code></pre></content></entry><entry><title>Shortcodes</title><link href="https://11tytips.netlify.com/tips/shortcodes.html"/><updated>2019-12-12T01:00:00+01:00</updated><id>https://11tytips.netlify.com/tips/shortcodes.html</id><content type="html"><h1>Content processing with shortcodes</h1><p data--="page_intro">Shortcodes are probably the most powerful tool to process Markdown content inline.</p><h2 id="a_corner_stone">A corner stone</h2><p>They are simple to create and use, almost anything can be done with them, and they represent an important opportunity that should not be missed. Eleventy has two kinds of shortcode:</p><ul data--="ulist"><li>simple (the shortcode argument (i.e. content) is passed to a single tag (ex. #1). )</li><li>paired (the shortcode argument is passed enclosed between two tags (ex. #2). )</li></ul><p data--="example"><code>{% _shortcode_id &quot;argument&quot; %}</code></p><p data--="example"><code>{% _shortcode_id %}... Content to be processed ...{% end_shortcode_id %}</code></p><p>11tyTips doesn’t use a lot of shortcodes, but they are essential to its content. Let’s dissect the most omnipresent of it: the <code>_code_block</code> paired shortcode. It is passed to Eleventy configuration method <code>addPairedShortcode</code> this way:</p><p data--="example"><code>make_o.addPairedShortcode('_code_block', content_s =&gt; CODES_o.code_block__s( content_s ) )</code></p><p>Here, <code>_code_block</code> is the shortcode identifier (11tyTips uses a leading underscore character because the shortcode closing tag adds the word <code>end</code> before the shortcode identifier: <code>end_shortcode</code> is more readable than <code>endshortcode</code>, isn’t it? )</p><p data--="important">Shortcode anatomy <em>(to be continued...)</em></p></content></entry><entry><title>Minifying styles and script</title><link href="https://11tytips.netlify.com/tips/minifying.html"/><updated>2019-12-12T01:00:00+01:00</updated><id>https://11tytips.netlify.com/tips/minifying.html</id><content type="html"><h1>Minifying assets</h1><p data--="page_intro">Use the power of Node packages inside Eleventy.</p><h2 id="bypassing_build_tools">Bypassing build tools</h2><p>Build tools are tedious: that’s my opinion, when it comes to simple and static sites. And one of the strength of Eleventy is that you can bypass build tools to accomplish the necessary step of minifying some assets to speed up pages downloading. Of course, you need some processing to reduce all CSS or JavaScript files, but Node is full of packages to do that processing and compress those files and it would be a pity to ignore that power: simply call it up directly within your Eleventy build step.</p><p>One of the immediate benefices is that you can therefore split your assets in small chunks to manage them very easily during the development phase.</p><p data--="important">The realm of filters <em>(to be continued...)</em></p></content></entry><entry><title>Using shorthands</title><link href="https://11tytips.netlify.com/tips/shorthands.html"/><updated>2019-12-12T01:00:00+01:00</updated><id>https://11tytips.netlify.com/tips/shorthands.html</id><content type="html"><h1>Shorhand notation</h1><p data--="page_intro">For frequently used bits of content a shorthand notation is a useful practice.</p><h2 id="less_is_clean_and_meaningful">Less is clean and meaningful</h2><p data--="important">Using shorthand notation in markdown files is not only for lazy authors: it yields a more semantic code. <em>(to be continued...)</em></p></content></entry><entry><title>Front matter post processing function</title><link href="https://11tytips.netlify.com/tips/frontmatter_function.html"/><updated>2019-12-12T01:00:00+01:00</updated><id>https://11tytips.netlify.com/tips/frontmatter_function.html</id><content type="html"><h1>JavaScript front matter functions</h1><p data--="page_intro">For specific processing needs of a page, you can declare functions in the front matter section.</p><h2 id="post_processing_the_template_engine_output">Post processing the template engine output</h2><p>A singular use case of a front matter function (see <a href="https://11tytips.netlify.com/tips/frontmatter_data.html">frontmatter data</a> page for an introduction to front matter properties. )is when you want to process the output of the template engine. For instance, in Nunjucks, if you want to output something that would normaly be processed as a Nunjucks block (exactly what I’m doing writing this page! ), you have to enclose it in a <code>[% raw %][% endraw %]</code> tags pair. But it doesn’t work if you want to output only one tag of the pair either the <code>[% raw %]</code> or <code>[% endraw %]</code> tag. The shortcoming is simple: use a front matter function.</p><p>In the markdown file, the <code>raw</code> tags are writen by replacing the curly bracket characters (<code>{</code> and <code>}</code>) by the square bracket characters (<code>[</code> and <code>]</code>) and reverted to curly brackets after the template processing with the front matter function.</p><p>By convention, I call this front matter function <code>output__s</code> and it takes as argument the template engine output, to process it the way I want.</p><hgroup data--="code_ref"><h5>11tyTips/source/matter/items/frontmatter_function.md</h5><h6><a href="https://prismjs.com" target="_blank" rel="noreferrer noopener" title="Highlighting provided by Prism.js">Prism</a></h6></hgroup><pre><code class="language-javascript">
---js
{
  //...
  output__s: output_s => output_s.replace( /\[% raw %\]/g, '{% raw %}' ).replace( /\[% endraw %\]/g, '{% endraw %}' )
}
---
<br/>
</code></pre><p>This <code>output__s</code> function is automaticaly invoqued (if it exists in the front matter part of any Markdown file) at the end of the global frame template passing the template engine result previously captured by a Nunkucks <code>{% set %} {% endset %}</code> block.</p><hgroup data--="code_ref"><h5>11tyTips/source/matrix/frame.njk</h5><h6><a href="https://prismjs.com" target="_blank" rel="noreferrer noopener" title="Highlighting provided by Prism.js">Prism</a></h6></hgroup><pre><code class="language-twig">
{%- set _template_s %}
<!doctype html><html lang="{{A_o.LANGUAGE_s}}">
{{- _head_block_s | safe | head_end( data_o ) -}}{# head process #}
{{- _body_block_s | safe | body_end( data_o ) -}}{# body process #}
</html>
{% endset -%}
<br/>
{%- if output__s %}{% set _template_s = output__s( _template_s ) %}{% endif -%}
<br/>
</code></pre><p>However, you are not at all constrained to process the output of the template engine globally: you can process only a part of it if you see fit as well as you can use multiple processing functions and multiple invocations. It’s just a question of enclosing the output to process in a <code>set</code> block.</p></content></entry><entry><title>Processing before and after the template engine</title><link href="https://11tytips.netlify.com/tips/pre_post_processing.html"/><updated>2019-12-12T01:00:00+01:00</updated><id>https://11tytips.netlify.com/tips/pre_post_processing.html</id><content type="html"><h1>Processing template output</h1><p data--="page_intro">It can be useful to process the final result of the templating work or prepare it by some pre processing.</p><h2 id="wrap_the_page_your_own_way">Wrap the page your own way</h2><p>All templating engines have limits and Nunjucks (which is used here by 11tyTips )has its own. But you can easily go your way beyond those limits to process the output of the templating engine just before everything is engraved as a static HTML page. For instance you may want to overcome the encoding output of the engine and make some modifications (see also the <a href="https://11tytips.netlify.com/tips/frontmatter_data.html">frontmatter data</a> tip for an example of post processing the template engine output without a global filter, but using a front matter specific callback function. ).</p><p>Once again this is acquired thru the use of a filter and an awesome help of the Nunjucks <code>{% set %}</code> block. Every global template (i.e. a template which produces a full <code>html</code> page. )has a <em>starting</em> block (in the following listing it’s the <em>ante</em> process comment line. )using a filter whose concern is to initialize some variables needed by the page which is about to be processed by the templating engine (it can be, for instance, a data base access (server-side), or some checking relative to the pages that have been previously processed, etc. ).</p><p>Similarly, there is an <em>ending</em> block whose filter processes the output of the template engine, once all the template work has been done, allowing you to further process the output. (in the following listing it’s the <em>post</em> process comment line. )</p><hgroup data--="code_ref"><h5>source/matrix/frame.njk</h5><h6><a href="https://prismjs.com" target="_blank" rel="noreferrer noopener" title="Highlighting provided by Prism.js">Prism</a></h6></hgroup><pre><code class="language-twig">
{% set data_o = D_o.data__o( permalink, collections.all ) %}
{{- '' | template_start( data_o ) -}}{# ante process #}
<br/>
{%- set _head_block_s %}
{% include "parts/blocks/_head_.njk" %}
{% endset -%}
<br/>
{%- set _body_block_s %}
{% include "parts/blocks/_body_.njk" %}
{% endset -%}
<br/>
{%- set _template_s %}
&lt;!doctype html&gt;&lt;html lang="{{A_o.LANGUAGE_s}}"&gt;
{{- _head_block_s | safe | head_end( data_o ) -}}{# head process #}
{{- _body_block_s | safe | body_end( data_o ) -}}{# body process #}
&lt;/html&gt;
{% endset -%}
<br/>
{%- if output__s %}{% set _template_s = output__s( _template_s ) %}{% endif -%}
{{- _template_s | safe | template_end( data_o ) | minify_html -}}{# post process #}
<br/>
</code></pre><h2 id="processing_at_build_start_or_end">Processing at build start or end</h2><p>The filters invoqued as previously described are also used to make any specific processing required just before the first template is to be processed by Eleventy and just after the last template has been processed. It’s kind of a hook, as can be seen is some frameworks, inside Eleventy. This <em>ante</em> or <em>post</em> processing uses only a directory listing to count the number of template files to be processed and invoque the starting function if no one has already been processed or the ending function if the number of files processed is equivalent to the listing count (this simple algorithm is based on the fact that all posts are in a single directory, without any subdirectories (otherwise the algorithm would have to walk thru all subdirectories), and that this <q>flat</q> directory contains only Markdown files. ).</p><hgroup data--="code_ref"><h5>source/make/lib/template_process.js</h5><h6><a href="https://prismjs.com" target="_blank" rel="noreferrer noopener" title="Highlighting provided by Prism.js">Prism</a></h6></hgroup><pre><code class="language-javascript">
const STRING_o = require( './string.js' )
<br/>
let files_a       = null
let count_n       = 0
let current_n     = 0
<br/>
void function ()
{
  const MD_DIR_s = './matter/pages/'    //: all Mardown files
  const DEPTH_n  = 0                    //: ...are located at the root level of MD_DIR_s
  files_a = require( 'klaw-sync' )( MD_DIR_s, { nodir: true, depthLimit: DEPTH_n } )
  if ( files_a ) count_n = files_a.length
} ()
<br/>
const buildStart__v = data_o =>
{
  console.log( `${count_n} Markdown files to process` )
}
<br/>
const buildEnd__v = data_o =>
{
  //... what else?
}
<br/>
const templateStart__s = ( input_s, data_o ) =>
{
  let start_s = input_s
  //... what else?
  return start_s
}
<br/>
const templateEnd__s = ( input_s, data_o ) =>
{
  let end_s = input_s
  //... what else?
  return end_s
}
<br/>
const headEnd__s = ( input_s, data_o ) =>
{
  let head_s = input_s
  //... what else?
  return head_s
}
<br/>
const bodyEnd__s = ( input_s, data_o ) =>
{
  let body_s = input_s
  //... what else?
  return body_s
}
<br/>
module.exports =
{
  start__s: ( input_s, data_o ) =>
  {
    if ( current_n === 0 &amp;&amp; !files_a ) buildStart__v( data_o )
    let start_s = templateStart__s( input_s, data_o )
    return start_s
  },
<br/>
  head__s: ( input_s, data_o ) => headEnd__s( input_s, data_o ),
<br/>
  body__s: ( input_s, data_o ) => bodyEnd__s( input_s, data_o ),
<br/>
  end__s: ( input_s, data_o ) =>
  {
    ++current_n
    let end_s = templateEnd__s( input_s, data_o )
    if ( current_n === count_n &amp;&amp; files_a ) buildEnd__v( data_o )
    return end_s
  },
}
<br/>
</code></pre><p>Any kind of processing can be done inside the starting and ending functions: in 11tyTips, the starting function output the number of Markdown files to be processed and the ending function create the file (<code>menu.html</code>) listing the pages referenced as links in the menu of the site.</p><p>To have full control on the site data, these functions take as argument an <code>Object</code> gathering all or a selection of (made according to the <code>EXPORT_a</code> Array declared in the <code>F_o.js</code> global data file )all declared global data (including the <code>page</code> Object used for pagination, all the collection Objects and even global properties not usually accessible: <code>content</code> and <code>layoutContent</code>… ). These data are retrieve by a simple <code>set</code> tag at the begining of the base template:</p><hgroup data--="code_ref"><h5>source/matrix/frame.njk</h5><h6><a href="https://prismjs.com" target="_blank" rel="noreferrer noopener" title="Highlighting provided by Prism.js">Prism</a></h6></hgroup><pre><code class="language-twig">
{% set data_o = F_o.data__o( permalink, collections.all ) %}
<br/>
</code></pre><p>and are used by all the template processing functions (the <code>data_o</code> argument ).</p></content></entry><entry><title>Variables scope and templates inheritance</title><link href="https://11tytips.netlify.com/tips/variables_inheritance.html"/><updated>2019-12-12T01:00:00+01:00</updated><id>https://11tytips.netlify.com/tips/variables_inheritance.html</id><content type="html"><h1>Variables and templates inheritance</h1><p data--="page_intro">In Nunjucks, inheriting templates can have private variables.</p><h2 id="variables_and_blocks">Variables and blocks</h2><p>When you rely on template inheritance (using the <code>{% extends %}</code> declaration ), you cant’ have a <code>{% block %}{% endblock %}</code> inside a variable <code>set</code> block. The other way, a variable declared inside a <code>{% block %}{% endblock %}</code> will not be accessible outside. Therefore, you can’t gather all variables in a global variable passed as an argument to the processing filter. However, you still have the possibility to process each block individualy.</p><h3 id="variables_scope">Variables scope</h3><p>When using variables declared with the <code>set</code> block, never forget that any variable whose name begins with one or more underscore character is <strong>private</strong>. Therefore it can not be imported outside of its block scope (unfortunatly, the Nunjucks documentation doesn’t state it: I found this important note in the <a href="https://jinja.palletsprojects.com/en/2.10.x/templates/#import" target="_blank" rel="noreferrer noopener">Jinja2 documentation</a>. ).</p></content></entry><entry><title>Creating a menu</title><link href="https://11tytips.netlify.com/tips/creating_menu.html"/><updated>2019-12-12T01:00:00+01:00</updated><id>https://11tytips.netlify.com/tips/creating_menu.html</id><content type="html"><h1>Creating a menu</h1><p data--="page_intro">Creating a menu with previous and next links.</p><h2 id="sorting_a_collection">Sorting a collection</h2><p>There are many ways to sort a collection of posts, some of them provided out-of-the-box by Eleventy (see <a href="https://11ty.io/docs/collections/#sorting" target="_blank" rel="noreferrer noopener">Eleventy#sorting</a> documentation page. ).</p><p data--="important"><em>(to be continued...)</em></p><hgroup data--="code_ref"><h5>11tyTips/source/make/11ty/collections.js</h5><h6><a href="https://prismjs.com" target="_blank" rel="noreferrer noopener" title="Highlighting provided by Prism.js">Prism</a></h6></hgroup><pre><code class="language-javascript">
module.exports = make_o =>
{
  make_o.tag_a
    .forEach( tag_s => make_o.addCollection( tag_s,
      collection_a =>
      {
        return collection_a
          .getFilteredByTag( tag_s )
          .sort( ( current_o, other_o ) => current_o.data.rank_n - other_o.data.rank_n )
      } )
    )
}
<br/>
</code></pre><h2 id="retrieving_posts_links_in_the_dom">Retrieving posts links in the DOM</h2><p data--="important">Previous and nex posts links are much less difficult to retrieve on the client side... <em>(to be continued...)</em></p><hgroup data--="code_ref"><h5>source/matrix/assets/scripts/js/parts/_link_page_.js_</h5><h6><a href="https://prismjs.com" target="_blank" rel="noreferrer noopener" title="Highlighting provided by Prism.js">Prism</a></h6></hgroup><pre><code class="language-javascript">
//&gt; retrieve previous + next pages info
const linkNear__o = link_s =&gt;
{
  const list_e = document.querySelector( `[data--="menu_list"]` )
  const extension_n = '.html'.length
  const location_s = window.location.pathname.slice( 1, -extension_n )  //: trim '/' at start
  const list_a = document.querySelectorAll( `[data--="menu_list"] &gt; li` )
  if ( !list_a ) return     //: undefined
  const list_n = list_a.length
  const current_e = list_e.querySelector( `[data-link="${location_s}"]` )
  const rank_n = +current_e.getAttribute( 'data-rank' )
  const near_n = ( link_s === 'link_previous' ) ? rank_n - 1 : rank_n + 1
  if ( near_n &lt; 1 || near_n &gt; list_n ) return     //: undefined
  const near_e = list_e.querySelector( `[data-rank="${near_n}"]` )
  if ( !near_e ) return     //: undefined
  const a_e = near_e.querySelector( `span &gt; a` )
  if ( !a_e ) return     //: undefined
  const span_e = near_e.querySelector( `span[data--="note_content"]` )
  if ( !a_e ) return     //: undefined
  return {
    link_s:     near_e.getAttribute( 'data-link' ),
    title_s:    a_e.innerHTML,
    //?? subtitle_s: '',
    abstract_s: span_e.innerHTML,
  }
}
<br/>
</code></pre><h2 id="adding_useful_info_to_links">Adding useful info to links</h2><p data--="important">Unveiling the title and pieces of data before fetching a previous or next post is always a useful help... <em>(to be continued...)</em></p><hgroup data--="code_ref"><h5>source/matrix/assets/scripts/js/parts/_link_page_.js_</h5><h6><a href="https://prismjs.com" target="_blank" rel="noreferrer noopener" title="Highlighting provided by Prism.js">Prism</a></h6></hgroup><pre><code class="language-javascript">
//> insert in DOM previous + next pages info
//> show/hide previous + next pages info block
const linkNear__v = ( event_s, link_e ) =>
{
  if ( link_e === null ) return
  if ( event_s === 'mouseenter' )
  {
    const link_s = link_e.getAttribute( 'data--' )
    let title_s
    let abstract_s
    const near_o = linkNear__o( link_s )
    if ( near_o !== undefined )
    {
      title_s = `<a href="https://11tytips.netlify.com/${near_o.link_s}.html">${near_o.title_s} ⤴</a>`
      abstract_s = `<i>${near_o.abstract_s}</i>`
    }
    else
    {
      title_s = 'No more tip'
      abstract_s = ''
    }
    document.querySelector( '[data--="link_title"]' ).innerHTML = title_s
    document.querySelector( '[data--="link_abstract"]' ).innerHTML = abstract_s
}
  document.querySelector( '[data--="link_info"]' )
    .classList.toggle( 'retract' )
}
</code></pre></content></entry></feed>
