const DOM_rootVar__s=e=>window.getComputedStyle(document.documentElement).getPropertyValue(e)||"",DOM_rootVar__v=(e,t)=>document.documentElement.style.setProperty(e,t),DOM_loader__v=(e,t,o=0)=>{const n=document.querySelector(e);n.addEventListener("load",()=>{n.before((n.contentDocument.body||n.contentDocument).children[0]),n.remove(),t&&(o?window.setTimeout(t,o):t())})},DOM_siblings__a=e=>{const t=document.querySelector(e);return t?Array.prototype.filter.call(t.parentNode.children,e=>e!==t):null},DOM_listReverse__v=e=>{Array.prototype.slice.call(document.querySelectorAll(`${e} li`)).forEach(e=>e.parentNode.insertBefore(e,e.parentNode.firstChild))},DOM_scrollToTop__v=()=>window.scroll({top:0,left:0,behavior:"smooth"}),DOM_locationKey__s=()=>{const e=".html".length;let t=window.location.href;return t.slice(t.lastIndexOf("tips/"),-e)},service__v=e=>{navigator.serviceWorker.register(e).then(e=>console.log(`ServiceWorker registration successful [scope: ${e.scope}]`),e=>console.log(`ServiceWorker registration failed [error: ${e}]`))},inlineNote__v=e=>{const t=e.target.closest("ins");t&&t.querySelector("[data--=note_content]").classList.toggle("note_open")},menuPosition__v=()=>{const e=document.querySelector("[data--=menu]");let t=document.querySelector("[data--=header]").offsetHeight;t+=document.querySelector("[data--=link_page]").offsetHeight,e.style.transform=`translateY( ${t}px)`;const o=e.offsetHeight,n=document.querySelector("[data--=article]").offsetHeight;o<n&&(e.style.height=`${1.5*n}px`)},comments__v=()=>{const e=document.querySelector("[data--=comments]");if(!e.hasChildNodes()){const t=document.createElement("script");t.setAttribute("data--","comments_script"),t.setAttribute("src","https://utteranc.es/client.js"),t.setAttribute("repo","octoxalis/11tytips"),t.setAttribute("issue-term","t"),t.setAttribute("theme","photon-dark"),t.setAttribute("crossorigin","anonymous"),t.setAttribute("async",!0),e.appendChild(t)}e.classList.toggle("retract")},linkNear__o=e=>{const t=document.querySelector("[data--=menu_list]");if(!t)return;const o=".html".length,n=window.location.pathname.slice(1,-o),r=document.querySelectorAll("[data--=menu_list] > li").length,l=+t.querySelector(`[data-link="${n}"]`).getAttribute("data-rank"),i="link_previous"===e?l-1:l+1;if(i<1||i>r)return;const a=t.querySelector(`[data-rank="${i}"]`),c=a.querySelector("span > a"),s=a.querySelector('span[data--="note_content"]');return{link_s:a.getAttribute("data-link"),title_s:c.innerHTML,abstract_s:s.innerHTML}},linkNear__v=(e,t)=>{if(null!==t){if("mouseenter"===e){const e=t.getAttribute("data--");let o="No more tip",n="";const r=linkNear__o(e);void 0===r?(document.querySelector("[data--=link_title]").innerHTML=o,document.querySelector("[data--=link_abstract]").innerHTML=n):(document.querySelector("[data--=link_title]").innerHTML=`<a href="https://11tytips.netlify.com/${r.link_s}.html">${r.title_s} â¤´</a>`,document.querySelector("[data--=link_abstract]").innerHTML=`<i>${r.abstract_s}</i>`)}document.querySelector("[data--=link_info]").classList.toggle("retract")}},linkPageURL__s=e=>{const t=linkNear__o(e);return t?`https://11tytips.netlify.com/${t.link_s}.html`:void 0};!function(){var e;DOM_loader__v("[data--=menu_iframe]",()=>{window.addEventListener("load",()=>{document.querySelector("[data--=menu_list]").addEventListener("click",inlineNote__v)}),document.querySelector("[data--=menu_order]").addEventListener("click",t=>{t.target.closest("menu")&&(e='[data--="menu_list"]',Array.prototype.slice.call(document.querySelectorAll(`${e} li`)).forEach(e=>e.parentNode.insertBefore(e,e.parentNode.firstChild)))}),menuPosition__v()});const t=document.querySelector("[data--=link_nav]");null!=t&&(t.addEventListener("click",e=>{const t=e.target.closest("LI");if(null===t)return;let o=t.getAttribute("data--");if("link_menu"===o)return void(()=>{const e="1"===DOM_rootVar__s("--MENU_SHOW")?"0":"1";DOM_rootVar__v("--MENU_SHOW",e),comments_e=document.querySelector(".utterances"),null!==comments_e&&comments_e.classList.toggle("retract");const t=document.querySelector("[data--=menu]");"1"===e?(t.classList.remove("no_pointer"),DOM_scrollToTop__v()):t.classList.add("no_pointer")})();const n=linkPageURL__s(o);n&&(window.location=n)}),document.querySelectorAll("[data--=link_nav] > li").forEach(e=>{"link_menu"!==e.getAttribute("data--")&&["mouseenter","mouseleave"].forEach(t=>e.addEventListener(t,e=>linkNear__v(t,e.currentTarget)))})),document.querySelector("[data--=article]").addEventListener("click",inlineNote__v),document.querySelector("[data--=comments_visibility]").addEventListener("click",e=>{comments__v()})}();
